#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

echo "ğŸ—„ï¸  Running Prisma validation..."
if ! npx prisma validate; then
    echo "âŒ Prisma schema validation failed. Please fix your schema.prisma file."
    exit 1
fi
echo "âœ… Prisma schema is valid"

echo "ğŸ“‹ Running code checks..."
if ! npm run check; then
    echo "âŒ Code checks failed. Please fix the issues before committing."
    exit 1
fi
echo "âœ… Code checks passed"

echo "ğŸ¨ Running format checks..."
if ! npm run format:check; then
    echo "âŒ Format checks failed. Please run 'npm run format:write' to fix formatting issues."
    exit 1
fi
echo "âœ… Format checks passed"

echo "ğŸ‰ All pre-commit checks passed! Ready to commit."